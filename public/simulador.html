<!DOCTYPE html>
<html lang="pt">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <script src="../js/sessao.js"></script>
    <link rel="stylesheet" href="index.css">
    <title>Gerador de Receitas</title>
</head>
<header>
    <a href="index.html"><img class="logo" src="imagens/panelinha.png"/></a>
    <div class="menu">
        <a class="btn-home" href="index.html">Home</a>
        <a class="btn-home" href="sobre.html">Sobre</a>
        <a class="btn-home" href="contato.html">Contato</a>
        <a class="btn-home" href="login.html">Login</a>
    </div>
</header>
<body>
    <div class="geradorReceitas">
        <h1>
            Insira até 5 ingredientes:
        </h1>
        <div class="livrinho">
            <input class="input1" type="text" id="input_ingrediente_1">
            <input class="input2" type="text" id="input_ingrediente_2">
            <input class="input3" type="text" id="input_ingrediente_3">
            <input class="input4" type="text" id="input_ingrediente_4">
            <input class="input5" type="text" id="input_ingrediente_5">
            <button class="botaoGerador" onclick="ingredientesBuscados()">BUSCAR RECEITA</button>
        </div>
    </div>
</body>
<footer>
    Este site é exclusivamente institucional.
    <div class="linksFooter">
        <div class="organizarImagens">
            <img src="imagens/github.png" alt=""> <img src="imagens/linkedin.png" alt="">
        </div>
        <div class="organizarLinks">
            <a href="github.com/netoremelli">GitHub</a> <a href="https://www.linkedin.com/in/wanderley-remelli-neto-07a407140/">LinkedIn</a>
        </div>
    </div>
</footer>
</html>

<script>

    function ingredientesBuscados(){

    //Recupere o valor da nova input pelo nome do id
    // Agora vá para o método fetch logo abaixo
    var ingrediente1 = input_ingrediente_1.value;
    var ingrediente2 = input_ingrediente_2.value;
    var ingrediente3 = input_ingrediente_3.value;
    var ingrediente4 = input_ingrediente_4.value;
    var ingrediente5 = input_ingrediente_5.value;

    if (ingrediente1 == ""){
        delete ingrediente1
    }
    if (ingrediente2 == ""){
        delete ingrediente2
    }
    if (ingrediente3 == ""){
        delete ingrediente3
    } 
    if (ingrediente4 == ""){
        delete ingrediente4
    } 
    if (ingrediente5 == ""){
        delete ingrediente5
    } 



    fetch("/usuarios/ingredientesBuscados", {
      method: "POST",
      headers: {
        "Content-Type": "application/json",
      },
      body: JSON.stringify({
        // crie um atributo que recebe o valor recuperado aqui
        // Agora vá para o arquivo routes/gerador.js

        ingrediente1Server: ingrediente1,
        ingrediente2Server: ingrediente2,
        ingrediente3Server: ingrediente3,
        ingrediente4Server: ingrediente4,
        ingrediente5Server: ingrediente5

      }),
    });

    return false;
  }

  function buscarReceita(){
    var ingrediente1 = input_ingrediente_1.value;
    var ingrediente2 = input_ingrediente_2.value;
    var ingrediente3 = input_ingrediente_3.value;
    var ingrediente4 = input_ingrediente_4.value;
    var ingrediente5 = input_ingrediente_5.value;

    livrinho.innerHTML = ``

    // chamar aqui a ingredientesbucados
    fetch("/usuarios/buscarReceita", {
      method: "POST",
      headers: {
        "Content-Type": "application/json",
      },
      body: JSON.stringify({
        // crie um atributo que recebe o valor recuperado aqui
        // Agora vá para o arquivo routes/gerador.js

        ingrediente1Server: ingrediente1,
        ingrediente2Server: ingrediente2,
        ingrediente3Server: ingrediente3,
        ingrediente4Server: ingrediente4,
        ingrediente5Server: ingrediente5

      }),
    });

    return false;
  }
</script>